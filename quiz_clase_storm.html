<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eligiendo mi clase para la aventura WoW Classic</title>
    <style>
        @font-face {
            font-family: 'FritzQuadrata';
            src: url('https://example.com/fritz-quadrata.ttf') format('truetype');
        }
        body {
            font-family: 'FritzQuadrata', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('https://i.imgur.com/bNVCtgR.png');
            background-size: cover;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            max-width: 800px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
            text-align: center;
        }
        h1 {
            text-align: center;
            color: #FFD700;
            text-shadow: 2px 2px 5px #000;
        }
        .mute-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #FFD700;
            color: #FFD700;
            font-family: 'FritzQuadrata', Arial, sans-serif;
            font-size: 14px;
            font-weight: bold;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            text-shadow: 1px 1px 3px #000;
        }
        .mute-button:hover {
            background: rgba(255, 215, 0, 0.8);
            color: #000;
        }

        .answers button {
            display: block;
            margin: 10px auto;
            padding: 10px;
            width: 80%;
            background: linear-gradient(to bottom, #6b0202, #400101);
            color: #FFD700;
            font-family: 'FritzQuadrata', Arial, sans-serif;
            font-size: 16px;
            font-weight: bold;
            border: 2px solid #FFD700;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            text-shadow: 1px 1px 3px #000;
        }
        .answers button:hover {
            background: linear-gradient(to bottom, #400101, #6b0202);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
        }
        #start-button button {
            padding: 15px 30px;
            font-size: 1.2em;
            background: linear-gradient(to bottom, #6b0202, #400101);
            color: #FFD700;
            font-family: 'FritzQuadrata', Arial, sans-serif;
            font-weight: bold;
            border: 2px solid #FFD700;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            text-shadow: 1px 1px 3px #000;
        }
        #start-button button:hover {
            background: linear-gradient(to bottom, #400101, #6b0202);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
        }
        #race-select {
                background: linear-gradient(to bottom, #6b0202, #400101);
                color: #FFD700;
                font-family: 'FritzQuadrata', Arial, sans-serif;
                font-size: 14px;
                font-weight: bold;
                border: 2px solid #FFD700;
                border-radius: 5px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                padding: 8px;
                width: 50%;
                margin: 0 auto 20px auto; /* Added margin-bottom */
                display: block;
                text-shadow: 1px 1px 3px #000;
                appearance: none;
                -moz-appearance: none;
                -webkit-appearance: none;
                background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23FFD700" class="bi bi-caret-down-fill" viewBox="0 0 16 16"><path d="M7.247 11.14 2.451 5.658c-.566-.625-.106-1.658.765-1.658h9.588c.87 0 1.33 1.033.765 1.658L8.753 11.14a1 1 0 0 1-1.506 0z"/></svg>');
                background-repeat: no-repeat;
                background-position: right 10px center;
                background-size: 12px;
            }

            #race-select:hover {
                background: linear-gradient(to bottom, #400101, #6b0202);
                box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            }

            #race-select option {
                background: #6b0202;
                color: #FFD700;
            }
            #race-select:hover {
                background: linear-gradient(to bottom, #400101, #6b0202);
                box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            }
            #logo-container {
                position: absolute;
                top: 20px; /* Espacio desde la parte superior */
                width: 100%; /* Ocupa todo el ancho para centrar el logo */
                text-align: center; /* Centra el logo horizontalmente */
                z-index: 10; /* Asegura que el logo esté por encima de otros elementos */
            }

            #logo {
                max-width: 100px; /* Ajusta el tamaño máximo del logo */
                height: auto; /* Mantiene la proporción del logo */
            }
</style>
</head>
<body>
    <div id="logo-container">
        <img src="https://i.imgur.com/4WIL3ex.png" alt="Logo" id="logo">
    </div>
    <button class="mute-button" id="mute-button">Silenciar</button>
    
    <div class="container" id="start-screen">
    
        <h1>Eligiendo mi clase para la aventura WoW Classic</h1>
        <p>Selecciona tu raza para empezar el quiz:</p>
        <select id="race-select">
            <option value="">Selecciona una raza</option>
            <option value="enano">Enano</option>
            <option value="gnomo">Gnomo</option>
            <option value="humano">Humano</option>
            <option value="elfo">Elfo de la Noche</option>
        </select>
        <div id="start-button">
            <button onclick="startQuiz()">Comenzar</button>
        </div>
    </div>
    <audio id="background-music" loop>
        <source src="https://wow.zamimg.com/sound-ids/live/enus/212/53204/stormwind03-moment.mp3" type="audio/mpeg">
    </audio>
    <script>

const classesByRace = {
    enano: ["Guerrero", "Cazador", "Sacerdote", "Paladín"],
    gnomo: ["Guerrero", "Pícaro", "Mago", "Brujo"],
    humano: ["Guerrero", "Paladín", "Pícaro", "Sacerdote", "Mago", "Brujo"],
    elfo: ["Guerrero", "Druida", "Cazador", "Pícaro", "Sacerdote"]
};

const questions = [
    {
        question: "¿Qué prefieres hacer en combate?",
        answers: {
            "Proteger a mis aliados siendo un muro impenetrable.": "Guerrero",
            "Lanzar flechas desde lejos con precisión.": "Cazador",
            "Lanzar hechizos poderosos y oscuros.": "Brujo",
            "Apoyar y curar a mis compañeros.": "Sacerdote"
        }
    },
    {
        question: "¿Qué tipo de arma prefieres?",
        answers: {
            "Un martillo bendecido por la luz.": "Paladín",
            "Un arco bien afinado y una mascota leal.": "Cazador",
            "Un báculo cargado de energía mágica.": "Mago",
            "Garras afiladas y transformaciones épicas.": "Druida"
        }
    },
    {
        question: "¿Cómo prefieres enfrentarte a los desafíos?",
        answers: {
            "Con fuerza y resistencia.": "Guerrero",
            "Con magia oscura e invocaciones.": "Brujo",
            "Con rapidez y ataques sorpresa.": "Pícaro",
            "Ayudando a mi equipo y asegurando su bienestar.": "Sacerdote"
        }
    },
    {
        question: "¿Qué entorno prefieres explorar?",
        answers: {
            "Llanuras abiertas y guaridas de bestias.": "Cazador",
            "Bosques y lugares salvajes.": "Druida",
            "Bibliotecas oscuras y criptas encantadas.": "Brujo",
            "Campos de batalla épicos.": "Guerrero"
        }
    },
    {
        question: "¿Qué rol prefieres en un equipo?",
        answers: {
            "Tanque, protegiendo a todos.": "Paladín",
            "DPS a distancia, infligiendo daño constante.": "Cazador",
            "Curar y apoyar al equipo.": "Sacerdote",
            "Eliminar objetivos prioritarios rápidamente.": "Pícaro"
        }
    },
    {
        question: "¿Qué te motiva más en una aventura?",
        answers: {
            "Ser el escudo que protege a mis aliados.": "Guerrero",
            "Descubrir secretos arcanos y conocimiento prohibido.": "Mago",
            "Vivir en armonía con la naturaleza.": "Druida",
            "Ser el estratega que siempre sorprende al enemigo.": "Pícaro"
        }
    },
    {
        question: "¿Qué compañero elegirías para tu aventura?",
        answers: {
            "Un lobo o un halcón entrenado.": "Cazador",
            "Un grimorio lleno de hechizos antiguos.": "Brujo",
            "Una armadura brillante y una espada sagrada.": "Paladín",
            "Un compañero que pueda sanar y apoyar.": "Sacerdote"
        }
    },
    {
        question: "¿Qué harías si te encuentras con un enemigo poderoso?",
        answers: {
            "Enfrentarlo directamente con fuerza bruta.": "Guerrero",
            "Utilizar magia para ganar ventaja.": "Mago",
            "Acechar desde las sombras y esperar el momento oportuno.": "Pícaro",
            "Pedir ayuda a la naturaleza o a aliados.": "Druida"
        }
    },
    {
        question: "¿Cómo prefieres celebrar una victoria épica?",
        answers: {
            "Con una gran fiesta con mis aliados.": "Guerrero",
            "Escribiendo todo en un grimorio para la posteridad.": "Mago",
            "Agradeciendo a la naturaleza por su ayuda.": "Druida",
            "Preparándome para el próximo desafío.": "Paladín"
        }
    },
    {
        question: "¿Cuál sería tu refugio ideal?",
        answers: {
            "Un castillo fortificado.": "Guerrero",
            "Un bosque encantado y tranquilo.": "Druida",
            "Una torre mágica llena de conocimiento.": "Mago",
            "Una cueva secreta con trampas y tesoros.": "Pícaro"
        }
    }
];

function getFilteredQuestions(selectedRace) {
    const allowedClasses = classesByRace[selectedRace];

    return questions.map(question => {
        // Filtrar respuestas válidas para la raza seleccionada
        const validAnswers = Object.entries(question.answers).filter(([_, className]) => 
            allowedClasses.includes(className)
        );

        // Si hay menos de 4 respuestas, rellenar con clases válidas que no estén ya en las respuestas
        while (validAnswers.length < 4) {
            const missingClass = allowedClasses.find(c => !validAnswers.some(([_, className]) => className === c));
            if (missingClass) {
                validAnswers.push([`Respuesta alternativa para ${missingClass}`, missingClass]);
            }
        }

        // Limitar a exactamente 4 respuestas
        const limitedAnswers = validAnswers.slice(0, 4);

        return {
            question: question.question,
            answers: Object.fromEntries(limitedAnswers)
        };
    });
}

// Probar para todas las razas
const races = ["enano", "gnomo", "humano", "elfo"];
races.forEach(race => {
    console.log(`Preguntas para la raza: ${race}`);
    console.log(getFilteredQuestions(race));
});

</script>

    <div class="container" id="quiz-container" style="display: none;">
        <div id="quiz"></div>
    </div>
    <div class="container" id="result-container" style="display: none;"></div>
</body>
</html>
